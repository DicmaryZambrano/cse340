<main id="update-account">
  <%- messages() %>

    <% if (errors) { %>
      <ul class="notice">
        <% errors.array().forEach(error=> { %>
          <li class="flash-message notice error">
            <%= error.msg %>
          </li>
          <% }) %>
      </ul>
      <% } %>

        <h1>
          <%= title %>
        </h1>
        <form id="updateForm" action="/account/update" method="post" class="update-form">
          <h2>Account Information</h2>
          <div class="form-group">
            <label for="first_name">First Name:</label>
            <input type="text" id="first_name" name="account_firstname" value="<%= account_firstname %>" required>

            <label for="last_name">Last Name:</label>
            <input type="text" id="last_name" name="account_lastname" value="<%= account_lastname %>" required>

            <label for="email">Email Address:</label>
            <input type="email" id="email" name="account_email" value="<%= account_email %>" required>

            <input type="hidden" name="account_id" value="<%= account_id %>">
          </div>

          <div class="form-group">
            <button type="submit" id="updateButton" class="btn-submit" disabled>Update My Information</button>
          </div>
        </form>

        <form id="passwordForm" action="/account/change-password" method="post" class="password-form">
          <h2>Change Password</h2>
          <div class="form-group">
            <label for="account_password">New Password:</label>
            <input type="password" id="account_password" name="account_password"
              pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$" required>
            <p>Note: Your new password must be at least 8 characters long and contain a mix of letters and numbers.</p>

            <input type="hidden" name="account_id" value="<%= account_id %>">
          </div>

          <div class="form-group">
            <button type="submit" id="passwordButton" class="btn-submit" disabled>Change Password</button>
          </div>
        </form>
</main>
<script src="../../js/user-update.js"></script>